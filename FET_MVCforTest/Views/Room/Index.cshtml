@* @{ *@
@*     ViewBag.Title = "Rooms List"; *@
@*     Layout = "~/Views/Shared/_Layout.cshtml"; *@
@*     ViewData["Title"] = "Rooms"; *@
@* } *@

@* @model IEnumerable<RoomViewModel> *@

@* <style> *@
@*     /* أنماط أساسية متوافقة مع الـ Dashboard */ *@
@*     :root { *@
@*         --primary-blue: #0d6efd; *@
@*         --primary-blue-dark: #4dabf7; *@
@*         --danger: #dc3545; *@
@*         --danger-dark: #ff6b6b; *@
@*         --warning: #ffc107; *@
@*         --warning-dark: #ffd43b; *@
@*     } *@

@*     body { *@
@*         font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; *@
@*         background-color: #f8f9fa; *@
@*         color: #212529; *@
@*         transition: all 0.3s ease; *@
@*     } *@

@*         body.dark-mode { *@
@*             background-color: #1a1a1a; *@
@*             color: #e0e0e0; *@
@*         } *@

@*     /* تحسينات للكروت */ *@
@*     .room-card { *@
@*         position: relative; *@
@*         background-color: #ffffff; *@
@*         border-radius: 1rem; *@
@*         padding: 1.5rem; *@
@*         text-align: center; *@
@*         transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); *@
@*         overflow: hidden; *@
@*         border: none; *@
@*         box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); *@
@*         margin-bottom: 1.5rem; *@
@*         height: 100%; *@
@*         z-index: 1; *@
@*     } *@

@*     body.dark-mode .room-card { *@
@*         background-color: #242424; *@
@*         border: 1px solid #3a3a3a; *@
@*         box-shadow: 0 4px 18px rgba(255, 255, 255, 0.05); *@
@*     } *@

@*     .room-card:hover { *@
@*         transform: translateY(-10px) scale(1.03); *@
@*         box-shadow: 0 8px 25px rgba(13, 110, 253, 0.25); *@
@*     } *@

@*     body.dark-mode .room-card:hover { *@
@*         box-shadow: 0 8px 25px rgba(77, 171, 247, 0.35); *@
@*     } *@

@*     .room-icon { *@
@*         font-size: 2.5rem; *@
@*         margin-bottom: 1rem; *@
@*         color: var(--primary-blue); *@
@*         transition: all 0.3s ease; *@
@*     } *@

@*     body.dark-mode .room-icon { *@
@*         color: var(--primary-blue-dark); *@
@*     } *@

@*     .room-card:hover .room-icon { *@
@*         transform: scale(1.2); *@
@*     } *@

@*     /* تحسينات للأزرار */ *@
@*     .btn-room { *@
@*         border-radius: 50px; *@
@*         padding: 8px 20px; *@
@*         font-weight: 500; *@
@*         transition: all 0.3s ease; *@
@*         position: relative; *@
@*         overflow: hidden; *@
@*     } *@

@*     .btn-edit { *@
@*         background-color: var(--warning); *@
@*         border-color: var(--warning); *@
@*     } *@

@*     body.dark-mode .btn-edit { *@
@*         background-color: var(--warning-dark); *@
@*         border-color: var(--warning-dark); *@
@*     } *@

@*     .btn-delete { *@
@*         background-color: var(--danger); *@
@*         border-color: var(--danger); *@
@*     } *@

@*     body.dark-mode .btn-delete { *@
@*         background-color: var(--danger-dark); *@
@*         border-color: var(--danger-dark); *@
@*     } *@

@*     .btn-back { *@
@*         background-color: #6c757d; *@
@*         border-color: #6c757d; *@
@*     } *@

@*     .btn-add { *@
@*         background-color: var(--primary-blue); *@
@*         border-color: var(--primary-blue); *@
@*         animation: pulse 2s infinite; *@
@*     } *@

@*     body.dark-mode .btn-add { *@
@*         background-color: var(--primary-blue-dark); *@
@*         border-color: var(--primary-blue-dark); *@
@*     } *@

@*     /* تأثيرات حركية */ *@
@*     @@keyframes fadeIn { *@
@*         from { *@
@*             opacity: 0; *@
@*             transform: translateY(20px); *@
@*         } *@

@*         to { *@
@*             opacity: 1; *@
@*             transform: translateY(0); *@
@*         } *@
@*     } *@

@*     @@keyframes pulse { *@
@*         0% { *@
@*             transform: scale(1); *@
@*             box-shadow: 0 0 0 0 rgba(13, 110, 253, 0.7); *@
@*         } *@

@*         70% { *@
@*             transform: scale(1.05); *@
@*             box-shadow: 0 0 0 10px rgba(13, 110, 253, 0); *@
@*         } *@

@*         100% { *@
@*             transform: scale(1); *@
@*             box-shadow: 0 0 0 0 rgba(13, 110, 253, 0); *@
@*         } *@
@*     } *@

@*     @@keyframes ripple { *@
@*         0% { *@
@*             transform: scale(0); *@
@*             opacity: 1; *@
@*         } *@

@*         100% { *@
@*             transform: scale(4); *@
@*             opacity: 0; *@
@*         } *@
@*     } *@

@*     .btn-ripple { *@
@*         position: relative; *@
@*         overflow: hidden; *@
@*     } *@

@*         .btn-ripple:after { *@
@*             content: ""; *@
@*             display: block; *@
@*             position: absolute; *@
@*             width: 100%; *@
@*             height: 100%; *@
@*             top: 0; *@
@*             left: 0; *@
@*             pointer-events: none; *@
@*             background-image: radial-gradient(circle, #fff 10%, transparent 10.01%); *@
@*             background-repeat: no-repeat; *@
@*             background-position: 50%; *@
@*             transform: scale(10, 10); *@
@*             opacity: 0; *@
@*             transition: transform .5s, opacity 1s; *@
@*         } *@

@*         .btn-ripple:active:after { *@
@*             transform: scale(0, 0); *@
@*             opacity: .3; *@
@*             transition: 0s; *@
@*         } *@

@*     /* تحسينات للعنوان */ *@
@*     .page-title { *@
@*         font-weight: 700; *@
@*         margin-bottom: 2rem; *@
@*         position: relative; *@
@*         display: inline-block; *@
@*     } *@

@*         .page-title:after { *@
@*             content: ''; *@
@*             position: absolute; *@
@*             width: 50%; *@
@*             height: 4px; *@
@*             background: var(--primary-blue); *@
@*             bottom: -10px; *@
@*             left: 25%; *@
@*             border-radius: 2px; *@
@*         } *@

@*     body.dark-mode .page-title:after { *@
@*         background: var(--primary-blue-dark); *@
@*     } *@

@*     /* تأثيرات إضافية للكروت */ *@
@*     .room-card::after { *@
@*         content: ''; *@
@*         position: absolute; *@
@*         top: 0; *@
@*         left: 0; *@
@*         right: 0; *@
@*         height: 5px; *@
@*         background: var(--card-accent); *@
@*         transition: all 0.3s ease; *@
@*     } *@

@*     body.dark-mode .room-card::after { *@
@*         height: 8px; *@
@*         box-shadow: 0 0 15px var(--card-accent); *@
@*     } *@

@*     /* ألوان مختلفة لكل كارت */ *@
@*     .room-card:nth-child(1) { *@
@*         --card-accent: #3498db; *@
@*     } *@

@*     .room-card:nth-child(2) { *@
@*         --card-accent: #2ecc71; *@
@*     } *@

@*     .room-card:nth-child(3) { *@
@*         --card-accent: #e74c3c; *@
@*     } *@

@*     .room-card:nth-child(4) { *@
@*         --card-accent: #f39c12; *@
@*     } *@

@*     .room-card:nth-child(5) { *@
@*         --card-accent: #9b59b6; *@
@*     } *@

@*     .room-card:nth-child(6) { *@
@*         --card-accent: #1abc9c; *@
@*     } *@

@*     /* تأثير التوهج في الدارك مود */ *@
@*     @@keyframes glow { *@
@*         0% { *@
@*             box-shadow: 0 0 5px var(--card-accent); *@
@*         } *@

@*         50% { *@
@*             box-shadow: 0 0 20px var(--card-accent); *@
@*         } *@

@*         100% { *@
@*             box-shadow: 0 0 5px var(--card-accent); *@
@*         } *@
@*     } *@

@*     body.dark-mode .room-card:hover { *@
@*         animation: glow 2s infinite; *@
@*     } *@

@*     /* تحسينات لـ Modal */ *@
@*     .modal-content { *@
@*         border-radius: 12px; *@
@*         overflow: hidden; *@
@*         border: none; *@
@*     } *@

@*     body.dark-mode .modal-content { *@
@*         background-color: #2d2d2d; *@
@*         border: 1px solid #444; *@
@*     } *@

@*     .modal-header { *@
@*         border-bottom: 1px solid rgba(0,0,0,0.1); *@
@*     } *@

@*     body.dark-mode .modal-header { *@
@*         background-color: #1a1a1a; *@
@*         border-bottom: 1px solid #444; *@
@*     } *@

@*     .modal-footer { *@
@*         border-top: 1px solid rgba(0,0,0,0.1); *@
@*     } *@

@*     body.dark-mode .modal-footer { *@
@*         border-top: 1px solid #444; *@
@*     } *@

@*     .modal-title { *@
@*         color: inherit; *@
@*     } *@

@*     body.dark-mode .modal-title { *@
@*         color: #f8f9fa; *@
@*     } *@

@*     .delete-confirmation { *@
@*         background-color: #f8f9fa; *@
@*         border-radius: 8px; *@
@*         padding: 15px; *@
@*         margin: 15px 0; *@
@*     } *@

@*     body.dark-mode .delete-confirmation { *@
@*         background-color: #333; *@
@*     } *@

@*     .room-details { *@
@*         text-align: center; *@
@*         margin-top: 1rem; *@
@*     } *@

@*     .room-capacity { *@
@*         font-weight: 600; *@
@*         color: var(--primary-blue); *@
@*     } *@

@*     body.dark-mode .room-capacity { *@
@*         color: var(--primary-blue-dark); *@
@*     } *@
@* </style> *@

@* <div class="container py-5 animate__animated animate__fadeIn"> *@
@*     @if (TempData["Operation"] != null) *@
@*     { *@
@*         <partial name="View"></partial> *@
@*     } *@

@*     <h1 class="text-center page-title mb-5"> *@
@*         <i class="bi bi-door-open me-2"></i>Rooms Management *@
@*     </h1> *@

@*     @if (TempData["Error"] != null) *@
@*     { *@
@*         <div class="alert alert-danger animate__animated animate__shakeX">@TempData["Error"]</div> *@
@*     } *@

@*     <div class="d-flex justify-content-between mb-4"> *@
@*         <a href="@Url.Action("Index", "Home")" class="btn btn-back btn-ripple"> *@
@*             <i class="bi bi-arrow-left me-1"></i> Back to Dashboard *@
@*         </a> *@
@*         <a href="@Url.Action("Create")" class="btn btn-add btn-ripple"> *@
@*             <i class="bi bi-plus-circle me-1"></i> Add New Room *@
@*         </a> *@
@*     </div> *@

@*     <div class="row g-4"> *@
@*         @foreach (var room in Model.ToList()) *@
@*         { *@
@*             <div class="col-md-4 animate__animated animate__fadeInUp" style="animation-delay: @(Model.ToList().IndexOf(room) * 0.1+'s')"> *@
@*                 <div class="room-card"> *@
@*                     <i class="bi bi-door-open room-icon"></i> *@
@*                     <h3 class="card-title mb-3">@room.Name</h3> *@

@*                     <div class="room-details"> *@
@*                         <p class="room-capacity">Capacity: @room.Capacity</p> *@
@*                     </div> *@

@*                     <div class="d-flex justify-content-center mt-4"> *@
@*                         <a href="@Url.Action("Edit", new { id = room.Id })" *@
@*                            class="btn btn-edit btn-room btn-ripple me-2"> *@
@*                             <i class="bi bi-pencil-square me-1"></i> Edit *@
@*                         </a> *@

@*                         <button type="button" *@
@*                                 class="btn btn-delete btn-room btn-ripple" *@
@*                                 data-bs-toggle="modal" *@
@*                                 data-bs-target="#DeleteModal-@room.Id"> *@
@*                             <i class="bi bi-trash me-1"></i> Delete *@
@*                         </button> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@

@*             <!-- Modal محسنة --> *@
@*             <div class="modal fade" id="DeleteModal-@room.Id" tabindex="-1" aria-labelledby="DeleteModalLabel" aria-hidden="true"> *@
@*                 <div class="modal-dialog modal-dialog-centered"> *@
@*                     <div class="modal-content"> *@
@*                         <div class="modal-header"> *@
@*                             <h5 class="modal-title" id="DeleteModalLabel"> *@
@*                                 <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i> *@
@*                                 Confirm Room Deletion *@
@*                             </h5> *@
@*                             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
@*                         </div> *@
@*                         <div class="modal-body"> *@
@*                             <p>Are you sure you want to delete the following room?</p> *@
@*                             <div class="delete-confirmation"> *@
@*                                 <h5><strong>@room.Name</strong></h5> *@
@*                                 <p class="mb-1"><strong>Capacity:</strong> @room.Capacity</p> *@
@*                                 <p class="text-danger mb-0"><i class="bi bi-exclamation-circle-fill me-1"></i>This action cannot be undone!</p> *@
@*                             </div> *@
@*                         </div> *@
@*                         <div class="modal-footer"> *@
@*                             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> *@
@*                                 <i class="bi bi-x-circle me-1"></i> Cancel *@
@*                             </button> *@
@*                             <form asp-action="Delete" asp-route-id="@room.Id" method="post"> *@
@*                                 <button type="submit" class="btn btn-danger"> *@
@*                                     <i class="bi bi-trash-fill me-1"></i> Confirm Delete *@
@*                                 </button> *@
@*                             </form> *@
@*                         </div> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@
@*         } *@
@*     </div> *@
@* </div> *@

@* @section Scripts { *@
@*     <script> *@
@*         // تأثير الريبل للأزرار *@
@*         document.querySelectorAll('.btn-ripple').forEach(btn => { *@
@*             btn.addEventListener('click', function(e) { *@
@*                 let x = e.clientX - e.target.getBoundingClientRect().left; *@
@*                 let y = e.clientY - e.target.getBoundingClientRect().top; *@

@*                 let ripples = document.createElement('span'); *@
@*                 ripples.style.left = x + 'px'; *@
@*                 ripples.style.top = y + 'px'; *@
@*                 this.appendChild(ripples); *@

@*                 setTimeout(() => { *@
@*                     ripples.remove(); *@
@*                 }, 1000); *@
@*             }); *@
@*         }); *@

@*         // تأثير التحويم على الكروت *@
@*         document.querySelectorAll('.room-card').forEach(card => { *@
@*             card.addEventListener('mouseenter', () => { *@
@*                 card.style.transform = 'translateY(-10px) scale(1.03)'; *@
@*             }); *@

@*             card.addEventListener('mouseleave', () => { *@
@*                 card.style.transform = 'translateY(0) scale(1)'; *@
@*             }); *@
@*         }); *@
@*     </script> *@
@* } *@


@* @{ *@
@*     ViewBag.Title = "Rooms List"; *@
@*     Layout = "~/Views/Shared/_Layout.cshtml"; *@
@*     ViewData["Title"] = "Rooms"; *@
@* } *@

@* @model IEnumerable<RoomViewModel> *@

@* <div class="container py-5 animate__animated animate__fadeIn"> *@
@*     @if (TempData["Operation"] != null) *@
@*     { *@
@*         <partial name="View"></partial> *@
@*     } *@

@*     <h1 class="text-center fw-bold mb-5"> *@
@*         <i class="bi bi-door-open me-2"></i>Rooms Management *@
@*     </h1> *@

@*     @if (TempData["Error"] != null) *@
@*     { *@
@*         <div class="alert alert-danger animate__animated animate__shakeX">@TempData["Error"]</div> *@
@*     } *@

@*     <div class="d-flex justify-content-between mb-4"> *@
@*         <a href="@Url.Action("Index", "Home")" class="btn btn-secondary"> *@
@*             <i class="bi bi-arrow-left me-1"></i> Back to Dashboard *@
@*         </a> *@
@*         <a href="@Url.Action("Create")" class="btn btn-primary animate__animated animate__pulse animate__infinite"> *@
@*             <i class="bi bi-plus-circle me-1"></i> Add New Room *@
@*         </a> *@
@*     </div> *@

@*     <div class="row g-4"> *@
@*         @foreach (var room in Model.ToList()) *@
@*         { *@
@*             <div class="col-md-4 animate__animated animate__fadeInUp" style="animation-delay: @(Model.ToList().IndexOf(room) * 0.1+'s')"> *@
@*                 <div class="card text-center shadow-sm border-0 rounded-4 p-4 position-relative bg-white room-card"> *@
@*                     <i class="bi bi-door-open fs-2 text-primary mb-3"></i> *@
@*                     <h3 class="card-title mb-3">@room.Name</h3> *@

@*                     <p class="fw-semibold text-primary">Capacity: @room.Capacity</p> *@

@*                     <div class="d-flex justify-content-center mt-4"> *@
@*                         <a href="@Url.Action("Edit", new { id = room.Id })" class="btn btn-warning rounded-pill me-2"> *@
@*                             <i class="bi bi-pencil-square me-1"></i> Edit *@
@*                         </a> *@
@*                         <button type="button" class="btn btn-danger rounded-pill" data-bs-toggle="modal" data-bs-target="#DeleteModal-@room.Id"> *@
@*                             <i class="bi bi-trash me-1"></i> Delete *@
@*                         </button> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@

@*             <!-- Modal --> *@
@*             <div class="modal fade" id="DeleteModal-@room.Id" tabindex="-1" aria-labelledby="DeleteModalLabel" aria-hidden="true"> *@
@*                 <div class="modal-dialog modal-dialog-centered"> *@
@*                     <div class="modal-content rounded-3"> *@
@*                         <div class="modal-header"> *@
@*                             <h5 class="modal-title"> *@
@*                                 <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i> *@
@*                                 Confirm Room Deletion *@
@*                             </h5> *@
@*                             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
@*                         </div> *@
@*                         <div class="modal-body"> *@
@*                             <p>Are you sure you want to delete the following room?</p> *@
@*                             <div class="bg-light p-3 rounded mb-3"> *@
@*                                 <h5 class="fw-bold">@room.Name</h5> *@
@*                                 <p class="mb-1"><strong>Capacity:</strong> @room.Capacity</p> *@
@*                                 <p class="text-danger mb-0"><i class="bi bi-exclamation-circle-fill me-1"></i>This action cannot be undone!</p> *@
@*                             </div> *@
@*                         </div> *@
@*                         <div class="modal-footer"> *@
@*                             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> *@
@*                                 <i class="bi bi-x-circle me-1"></i> Cancel *@
@*                             </button> *@
@*                             <form asp-action="Delete" asp-route-id="@room.Id" method="post"> *@
@*                                 <button type="submit" class="btn btn-danger"> *@
@*                                     <i class="bi bi-trash-fill me-1"></i> Confirm Delete *@
@*                                 </button> *@
@*                             </form> *@
@*                         </div> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@
@*         } *@
@*     </div> *@
@* </div> *@

@* @section Scripts { *@
@*     <script> *@
@*         document.querySelectorAll('.room-card').forEach(card => { *@
@*             card.addEventListener('mouseenter', () => { *@
@*                 card.style.transform = 'translateY(-10px) scale(1.03)'; *@
@*             }); *@

@*             card.addEventListener('mouseleave', () => { *@
@*                 card.style.transform = 'translateY(0) scale(1)'; *@
@*             }); *@
@*         }); *@
@*     </script> *@
@* } *@

@* @{ *@
@*     ViewBag.Title = "Rooms List"; *@
@*     Layout = "~/Views/Shared/_Layout.cshtml"; *@
@*     ViewData["Title"] = "Rooms"; *@
@* } *@

@* @model IEnumerable<RoomViewModel> *@

@* <div class="container py-5 animate__animated animate__fadeIn"> *@
@*     @if (TempData["Operation"] != null) *@
@*     { *@
@*         <partial name="View"></partial> *@
@*     } *@

@*     <h1 class="text-center fw-bold mb-5"> *@
@*         <i class="bi bi-door-open me-2"></i>Rooms Management *@
@*     </h1> *@

@*     @if (TempData["Error"] != null) *@
@*     { *@
@*         <div class="alert alert-danger animate__animated animate__shakeX">@TempData["Error"]</div> *@
@*     } *@

@*     <div class="d-flex justify-content-between mb-4"> *@
@*         <a href="@Url.Action("Index", "Home")" class="btn btn-secondary"> *@
@*             <i class="bi bi-arrow-left me-1"></i> Back to Dashboard *@
@*         </a> *@
@*         <button type="button" class="btn btn-primary animate__animated animate__pulse animate__infinite" data-bs-toggle="modal" data-bs-target="#AddRoomModal"> *@
@*             <i class="bi bi-plus-circle me-1"></i> Add New Room *@
@*         </button> *@
@*     </div> *@

@*     <!-- Add Room Modal --> *@
@*     <div class="modal fade" id="AddRoomModal" tabindex="-1" aria-labelledby="AddRoomModalLabel" aria-hidden="true"> *@
@*         <div class="modal-dialog modal-dialog-centered"> *@
@*             <div class="modal-content rounded-3"> *@
@*                 <div class="modal-header"> *@
@*                     <h5 class="modal-title" id="AddRoomModalLabel"> *@
@*                         <i class="bi bi-plus-circle-fill text-primary me-2"></i> Add New Room *@
@*                     </h5> *@
@*                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
@*                 </div> *@
@*                 <form asp-action="Create" method="post"> *@
@*                     <div class="modal-body"> *@
@*                         <div class="mb-3"> *@
@*                             <label for="RoomName" class="form-label">Room Name</label> *@
@*                             <input type="text" class="form-control" id="RoomName" name="Name" required /> *@
@*                         </div> *@
@*                         <div class="mb-3"> *@
@*                             <label for="Capacity" class="form-label">Capacity</label> *@
@*                             <input type="number" class="form-control" id="Capacity" name="Capacity" required min="1" /> *@
@*                         </div> *@
@*                     </div> *@
@*                     <div class="modal-footer"> *@
@*                         <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> *@
@*                             <i class="bi bi-x-circle me-1"></i> Cancel *@
@*                         </button> *@
@*                         <button type="submit" class="btn btn-success"> *@
@*                             <i class="bi bi-check-circle me-1"></i> Save Room *@
@*                         </button> *@
@*                     </div> *@
@*                 </form> *@
@*             </div> *@
@*         </div> *@
@*     </div> *@

@*     <div class="row g-4"> *@
@*         @foreach (var room in Model.ToList()) *@
@*         { *@
@*             <div class="col-md-4 animate__animated animate__fadeInUp" style="animation-delay: @(Model.ToList().IndexOf(room) * 0.1 + "s")"> *@
@*                 <div class="card text-center shadow-sm border-0 rounded-4 p-4 position-relative bg-white room-card"> *@
@*                     <i class="bi bi-door-open fs-2 text-primary mb-3"></i> *@
@*                     <h3 class="card-title mb-3">@room.Name</h3> *@
@*                     <p class="fw-semibold text-primary">Capacity: @room.Capacity</p> *@

@*                     <div class="d-flex justify-content-center mt-4"> *@
@*                         <a href="@Url.Action("Edit", new { id = room.Id })" class="btn btn-warning rounded-pill me-2"> *@
@*                             <i class="bi bi-pencil-square me-1"></i> Edit *@
@*                         </a> *@
@*                         <button type="button" class="btn btn-danger rounded-pill" data-bs-toggle="modal" data-bs-target="#DeleteModal-@room.Id"> *@
@*                             <i class="bi bi-trash me-1"></i> Delete *@
@*                         </button> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@

@*             <!-- Delete Modal --> *@
@*             <div class="modal fade" id="DeleteModal-@room.Id" tabindex="-1" aria-labelledby="DeleteModalLabel" aria-hidden="true"> *@
@*                 <div class="modal-dialog modal-dialog-centered"> *@
@*                     <div class="modal-content rounded-3"> *@
@*                         <div class="modal-header"> *@
@*                             <h5 class="modal-title"> *@
@*                                 <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i> *@
@*                                 Confirm Room Deletion *@
@*                             </h5> *@
@*                             <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> *@
@*                         </div> *@
@*                         <div class="modal-body"> *@
@*                             <p>Are you sure you want to delete the following room?</p> *@
@*                             <div class="bg-light p-3 rounded mb-3"> *@
@*                                 <h5 class="fw-bold">@room.Name</h5> *@
@*                                 <p class="mb-1"><strong>Capacity:</strong> @room.Capacity</p> *@
@*                                 <p class="text-danger mb-0"><i class="bi bi-exclamation-circle-fill me-1"></i>This action cannot be undone!</p> *@
@*                             </div> *@
@*                         </div> *@
@*                         <div class="modal-footer"> *@
@*                             <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"> *@
@*                                 <i class="bi bi-x-circle me-1"></i> Cancel *@
@*                             </button> *@
@*                             <form asp-action="Delete" asp-route-id="@room.Id" method="post"> *@
@*                                 <button type="submit" class="btn btn-danger"> *@
@*                                     <i class="bi bi-trash-fill me-1"></i> Confirm Delete *@
@*                                 </button> *@
@*                             </form> *@
@*                         </div> *@
@*                     </div> *@
@*                 </div> *@
@*             </div> *@
@*         } *@
@*     </div> *@
@* </div> *@

@* @section Scripts { *@
@*     <script> *@
@*         document.querySelectorAll('.room-card').forEach(card => { *@
@*             card.addEventListener('mouseenter', () => { *@
@*                 card.style.transform = 'translateY(-10px) scale(1.03)'; *@
@*             }); *@

@*             card.addEventListener('mouseleave', () => { *@
@*                 card.style.transform = 'translateY(0) scale(1)'; *@
@*             }); *@
@*         }); *@
@*     </script> *@
@* } *@
@{
    ViewBag.Title = "Rooms List";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Rooms";
}

@model IEnumerable<RoomViewModel>

<div class="container py-5 animate__animated animate__fadeIn">
    @if (TempData["Operation"] != null)
    {
        <partial name="View"></partial>
    }

    <h1 class="text-center fw-bold mb-5">
        <i class="bi bi-door-open me-2"></i>Rooms Management
    </h1>

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger animate__animated animate__shakeX">@TempData["Error"]</div>
    }

    <!-- Header with Responsive Layout -->
    <div class="row mb-5">
        <div class="col-md-3 mb-2 mb-md-0">
            <a href="@Url.Action("Index", "Home")" class="btn btn-secondary w-100">
                <i class="bi bi-arrow-left me-1"></i> Back to Dashboard
            </a>
        </div>
        <div class="col-md-6 mb-2 mb-md-0">
            <div class="input-group">
                <input type="text" id="roomSearch" class="form-control" placeholder="Search by room name..." />
                <span class="input-group-text">
                    <i class="bi bi-search"></i>
                </span>
            </div>
        </div>
        <div class="col-md-3">
            <button type="button" class="btn btn-primary w-100 animate__animated animate__pulse" data-bs-toggle="modal" data-bs-target="#AddRoomModal">
                <i class="bi bi-plus-circle me-1"></i> Add New Room
            </button>
        </div>
    </div>

    <!-- Add Room Modal -->
    <div class="modal fade" id="AddRoomModal" tabindex="-1" aria-labelledby="AddRoomModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-3">
                <div class="modal-header">
                    <h5 class="modal-title" id="AddRoomModalLabel">
                        <i class="bi bi-plus-circle-fill text-primary me-2"></i> Add New Room
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form asp-action="Create" method="post">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="RoomName" class="form-label">Room Name</label>
                            <input type="text" class="form-control" id="RoomName" name="Name" required />
                        </div>
                        <div class="mb-3">
                            <label for="Capacity" class="form-label">Capacity</label>
                            <input type="number" class="form-control" id="Capacity" name="Capacity" required min="1" />
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                            <i class="bi bi-x-circle me-1"></i> Cancel
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="bi bi-check-circle me-1"></i> Save Room
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="row g-4">
        @foreach (var room in Model.ToList())
        {
            <div class="col-sm-6 col-md-3 room-item animate__animated animate__fadeInUp" style="animation-delay: @(Model.ToList().IndexOf(room) * 0.1 + "s")">
                <div class="card text-center shadow-sm border-0 rounded-4 p-3 position-relative room-card">
                    <i class="bi bi-door-open fs-2 text-primary mb-3"></i>
                    <h3 class="card-title mb-3">@room.Name</h3>
                    <p class="fw-semibold text-primary">Capacity: @room.Capacity</p>

                    <div class="d-flex justify-content-center mt-4">
                        <button type="button" class="btn btn-warning rounded-pill me-2" data-bs-toggle="modal" data-bs-target="#EditModal-@room.Id">
                            <i class="bi bi-pencil-square me-1"></i> Edit
                        </button>
                        <button type="button" class="btn btn-danger rounded-pill" data-bs-toggle="modal" data-bs-target="#DeleteModal-@room.Id">
                            <i class="bi bi-trash me-1"></i> Delete
                        </button>
                    </div>
                </div>
            </div>

            <!-- Edit Room Modal -->
            <div class="modal fade" id="EditModal-@room.Id" tabindex="-1" aria-labelledby="EditModalLabel-@room.Id" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content rounded-3">
                        <div class="modal-header">
                            <h5 class="modal-title" id="EditModalLabel-@room.Id">
                                <i class="bi bi-pencil-square text-warning me-2"></i> Edit Room
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <form asp-action="Edit" method="post">
                            <input type="hidden" name="Id" value="@room.Id" />
                            <div class="modal-body">
                                <div class="mb-3">
                                    <label for="EditRoomName-@room.Id" class="form-label">Room Name</label>
                                    <input type="text" class="form-control" id="EditRoomName-@room.Id" name="Name" value="@room.Name" required />
                                </div>
                                <div class="mb-3">
                                    <label for="EditCapacity-@room.Id" class="form-label">Capacity</label>
                                    <input type="number" class="form-control" id="EditCapacity-@room.Id" name="Capacity" value="@room.Capacity" required min="1" />
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                    <i class="bi bi-x-circle me-1"></i> Cancel
                                </button>
                                <button type="submit" class="btn btn-success">
                                    <i class="bi bi-check-circle me-1"></i> Save Changes
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Delete Modal -->
            <div class="modal fade" id="DeleteModal-@room.Id" tabindex="-1" aria-labelledby="DeleteModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content rounded-3">
                        <div class="modal-header">
                            <h5 class="modal-title">
                                <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i>
                                Confirm Room Deletion
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Are you sure you want to delete the following room?</p>
                            <div class="bg-light p-3 rounded mb-3">
                                <h5 class="fw-bold">@room.Name</h5>
                                <p class="mb-1"><strong>Capacity:</strong> @room.Capacity</p>
                                <p class="text-danger mb-0"><i class="bi bi-exclamation-circle-fill me-1"></i>This action cannot be undone!</p>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                                <i class="bi bi-x-circle me-1"></i> Cancel
                            </button>
                            <form asp-action="Delete" asp-route-id="@room.Id" method="post">
                                <button type="submit" class="btn btn-danger">
                                    <i class="bi bi-trash-fill me-1"></i> Confirm Delete
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>

    <!-- Custom CSS -->
    <style>
        .room-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

            .room-card:hover {
                transform: translateY(-10px) scale(1.03);
                box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            }
    </style>
</div>

@section Scripts {
    <script>
        // Search functionality
        const searchInput = document.getElementById('roomSearch');
        const cards = document.querySelectorAll('.room-card');

        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value.toLowerCase();

            cards.forEach(card => {
                const title = card.querySelector('.card-title').textContent.toLowerCase();
                const roomItem = card.closest('.room-item');
                if (title.includes(searchTerm)) {
                    roomItem.style.display = '';
                } else {
                    roomItem.style.display = 'none';
                }
            });
        

    </script>
}       
    


