@model ErrorViewModel

@{
    ViewData["Title"] = "Error";
    var isDevelopment = Environment.GetEnvironmentVariable("ASPNETCORE_ENVIRONMENT") == "Development";
}

<style>
    :root {
        --error-primary: #dc3545;
        --error-primary-dark: #ff6b6b;
        --text-color: #212529;
        --text-color-dark: #f8f9fa;
        --bg-color: #f8f9fa;
        --bg-color-dark: #1a1a1a;
        --card-bg: #ffffff;
        --card-bg-dark: #242424;
        --border-color: #dee2e6;
        --border-color-dark: #3a3a3a;
    }

    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        transition: all 0.3s ease;
    }

        body.dark-mode {
            background-color: var(--bg-color-dark);
            color: var(--text-color-dark);
        }

    .error-container {
        max-width: 800px;
        margin: 4rem auto;
        padding: 2rem;
        animation: fadeIn 0.6s ease-out forwards;
    }

    .error-card {
        background-color: var(--card-bg);
        border-radius: 1rem;
        padding: 2rem;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        border: 1px solid var(--border-color);
        transition: all 0.3s ease;
    }

    body.dark-mode .error-card {
        background-color: var(--card-bg-dark);
        border-color: var(--border-color-dark);
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .error-icon {
        font-size: 4rem;
        color: var(--error-primary);
        margin-bottom: 1.5rem;
        animation: bounce 1s infinite alternate;
    }

    body.dark-mode .error-icon {
        color: var(--error-primary-dark);
    }

    .error-title {
        font-size: 2.5rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--error-primary);
    }

    body.dark-mode .error-title {
        color: var(--error-primary-dark);
    }

    .error-subtitle {
        font-size: 1.5rem;
        font-weight: 500;
        margin-bottom: 2rem;
    }

    .error-details {
        background-color: rgba(220, 53, 69, 0.1);
        border-radius: 0.5rem;
        padding: 1rem;
        margin-bottom: 2rem;
        border-left: 4px solid var(--error-primary);
    }

    body.dark-mode .error-details {
        background-color: rgba(255, 107, 107, 0.1);
        border-left-color: var(--error-primary-dark);
    }

    .request-id {
        font-family: monospace;
        background-color: rgba(0, 0, 0, 0.05);
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
    }

    body.dark-mode .request-id {
        background-color: rgba(255, 255, 255, 0.1);
    }

    .dev-info {
        margin-top: 2rem;
        padding: 1.5rem;
        background-color: rgba(13, 110, 253, 0.1);
        border-radius: 0.5rem;
        border-left: 4px solid #0d6efd;
    }

    body.dark-mode .dev-info {
        background-color: rgba(77, 171, 247, 0.1);
        border-left-color: #4dabf7;
    }

    .action-buttons {
        margin-top: 2rem;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }

    .btn-home {
        background-color: #0d6efd;
        color: white;
    }

    body.dark-mode .btn-home {
        background-color: #4dabf7;
    }

    .btn-support {
        background-color: #6c757d;
        color: white;
    }

    @@keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @@keyframes bounce {
        from {
            transform: translateY(0) scale(1);
        }

        to {
            transform: translateY(-10px) scale(1.1);
        }
    }

    @@media (max-width: 768px) {
        .error-container {
            margin: 2rem auto;
            padding: 1rem;
        }

        .error-icon {
            font-size: 3rem;
        }

        .error-title {
            font-size: 2rem;
        }

        .error-subtitle {
            font-size: 1.25rem;
        }
    }
</style>

<div class="error-container">
    <div class="error-card text-center">
        <i class="bi bi-exclamation-triangle-fill error-icon"></i>
        <h1 class="error-title">Oops! Something went wrong</h1>
        <h2 class="error-subtitle">We encountered an error while processing your request</h2>

        @if (Model.ShowRequestId)
        {
            <div class="error-details text-start">
                <p><strong>Error Reference:</strong></p>
                <p class="request-id">@Model.RequestId</p>
                <p class="mt-2">Please provide this code if contacting support</p>
            </div>
        }

        <div class="action-buttons justify-content-center">
            <a href="/" class="btn btn-home btn-lg rounded-pill px-4">
                <i class="bi bi-house-door me-2"></i> Return Home
            </a>
            
        </div>

        @if (isDevelopment)
        {
            <div class="dev-info text-start mt-4">
                <h4><i class="bi bi-code-slash me-2"></i>Development Mode</h4>
                <p>
                    Detailed error information is shown because you're running in <strong>Development</strong> environment.
                </p>
                <p class="mb-0">
                    <strong>Note:</strong> This environment should not be enabled for deployed applications as it may display sensitive information.
                </p>
            </div>
        }
    </div>
</div>